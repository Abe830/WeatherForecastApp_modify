<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>大阪府 天気予報</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <h1>日本全国の天気予報</h1>
        <div id="selected-pref">都道府県を選択してください</div>
        <svg id="japan-map" viewBox="0 0 800 850">
            <!-- タイル型日本地図（地方ごとに色分け） -->
            <g>
                <!-- 北海道地方 -->
                <rect id="hokkaido" class="prefecture" x="600" y="40" width="120" height="80" fill="#4a98c9" />
                <text x="660" y="90" class="pref-label" text-anchor="middle">北海道</text>
                
                <!-- 東北地方 -->
                <rect id="aomori" class="prefecture" x="600" y="140" width="60" height="40" fill="#3db6b7" />
                <text x="630" y="165" class="pref-label" text-anchor="middle">青森</text>

                <rect id="iwate" class="prefecture" x="660" y="140" width="60" height="40" fill="#3db6b7" />
                <text x="690" y="165" class="pref-label" text-anchor="middle">岩手</text>

                <rect id="akita" class="prefecture" x="600" y="180" width="60" height="40" fill="#3db6b7" />
                <text x="630" y="205" class="pref-label" text-anchor="middle">秋田</text>

                <rect id="miyagi" class="prefecture" x="660" y="180" width="60" height="40" fill="#3db6b7" />
                <text x="690" y="205" class="pref-label" text-anchor="middle">宮城</text>

                <rect id="yamagata" class="prefecture" x="600" y="220" width="60" height="40" fill="#3db6b7" />
                <text x="630" y="245" class="pref-label" text-anchor="middle">山形</text>

                <rect id="fukushima" class="prefecture" x="660" y="220" width="60" height="40" fill="#3db6b7" />
                <text x="690" y="245" class="pref-label" text-anchor="middle">福島</text>

                <!-- 関東地方 -->
                <rect id="ibaraki" class="prefecture" x="540" y="260" width="60" height="40" fill="#3dc9c9" />
                <text x="570" y="285" class="pref-label" text-anchor="middle">茨城</text>

                <rect id="tochigi" class="prefecture" x="600" y="260" width="60" height="40" fill="#3dc9c9" />
                <text x="630" y="285" class="pref-label" text-anchor="middle">栃木</text>

                <rect id="gunma" class="prefecture" x="660" y="260" width="60" height="40" fill="#3dc9c9" />
                <text x="690" y="285" class="pref-label" text-anchor="middle">群馬</text>

                <rect id="saitama" class="prefecture" x="540" y="300" width="60" height="40" fill="#3dc9c9" />
                <text x="570" y="325" class="pref-label" text-anchor="middle">埼玉</text>

                <rect id="chiba" class="prefecture" x="600" y="300" width="60" height="40" fill="#3dc9c9" />
                <text x="630" y="325" class="pref-label" text-anchor="middle">千葉</text>

                <rect id="tokyo" class="prefecture" x="660" y="300" width="60" height="40" fill="#3dc9c9" />
                <text x="690" y="325" class="pref-label" text-anchor="middle">東京</text>

                <rect id="kanagawa" class="prefecture" x="600" y="340" width="60" height="40" fill="#3dc9c9" />
                <text x="630" y="365" class="pref-label" text-anchor="middle">神奈川</text>

                <!-- 中部地方 -->
                <rect id="niigata" class="prefecture" x="480" y="220" width="60" height="40" fill="#6bbf4b" />
                <text x="510" y="245" class="pref-label" text-anchor="middle">新潟</text>

                <rect id="toyama" class="prefecture" x="480" y="260" width="60" height="40" fill="#6bbf4b" />
                <text x="510" y="285" class="pref-label" text-anchor="middle">富山</text>

                <rect id="ishikawa" class="prefecture" x="480" y="300" width="60" height="40" fill="#6bbf4b" />
                <text x="510" y="325" class="pref-label" text-anchor="middle">石川</text>

                <rect id="fukui" class="prefecture" x="480" y="340" width="60" height="40" fill="#6bbf4b" />
                <text x="510" y="365" class="pref-label" text-anchor="middle">福井</text>

                <rect id="yamanashi" class="prefecture" x="540" y="340" width="60" height="40" fill="#b2d235" />
                <text x="570" y="365" class="pref-label" text-anchor="middle">山梨</text>

                <rect id="nagano" class="prefecture" x="600" y="380" width="60" height="40" fill="#b2d235" />
                <text x="630" y="405" class="pref-label" text-anchor="middle">長野</text>

                <rect id="gifu" class="prefecture" x="540" y="380" width="60" height="40" fill="#b2d235" />
                <text x="570" y="405" class="pref-label" text-anchor="middle">岐阜</text>

                <rect id="shizuoka" class="prefecture" x="660" y="380" width="60" height="40" fill="#b2d235" />
                <text x="690" y="405" class="pref-label" text-anchor="middle">静岡</text>

                <rect id="aichi" class="prefecture" x="600" y="420" width="60" height="40" fill="#b2d235" />
                <text x="630" y="445" class="pref-label" text-anchor="middle">愛知</text>
                <!-- 近畿地方 -->
                <rect id="mie" class="prefecture" x="540" y="420" width="60" height="40" fill="#f7c13f" />
                <text x="570" y="445" class="pref-label" text-anchor="middle">三重</text>

                <rect id="shiga" class="prefecture" x="480" y="380" width="60" height="40" fill="#f7c13f" />
                <text x="510" y="405" class="pref-label" text-anchor="middle">滋賀</text>

                <rect id="kyoto" class="prefecture" x="480" y="420" width="60" height="40" fill="#f7c13f" />
                <text x="510" y="445" class="pref-label" text-anchor="middle">京都</text>

                <rect id="osaka" class="prefecture" x="480" y="460" width="60" height="40" fill="#f7c13f" />
                <text x="510" y="485" class="pref-label" text-anchor="middle">大阪</text>

                <rect id="hyogo" class="prefecture" x="420" y="420" width="60" height="40" fill="#f7c13f" />
                <text x="450" y="445" class="pref-label" text-anchor="middle">兵庫</text>

                <rect id="nara" class="prefecture" x="540" y="460" width="60" height="40" fill="#f7c13f" />
                <text x="570" y="485" class="pref-label" text-anchor="middle">奈良</text>

                <rect id="wakayama" class="prefecture" x="480" y="500" width="60" height="40" fill="#f7c13f" />
                <text x="510" y="525" class="pref-label" text-anchor="middle">和歌山</text>

                <!-- 中国地方 -->
                <rect id="tottori" class="prefecture" x="360" y="420" width="60" height="40" fill="#f7941d" />
                <text x="390" y="445" class="pref-label" text-anchor="middle">鳥取</text>

                <rect id="shimane" class="prefecture" x="300" y="420" width="60" height="40" fill="#f7941d" />
                <text x="330" y="445" class="pref-label" text-anchor="middle">島根</text>

                <rect id="okayama" class="prefecture" x="360" y="460" width="60" height="40" fill="#f7941d" />
                <text x="390" y="485" class="pref-label" text-anchor="middle">岡山</text>

                <rect id="hiroshima" class="prefecture" x="300" y="460" width="60" height="40" fill="#f7941d" />
                <text x="330" y="485" class="pref-label" text-anchor="middle">広島</text>

                <rect id="yamaguchi" class="prefecture" x="240" y="460" width="60" height="40" fill="#f7941d" />
                <text x="270" y="485" class="pref-label" text-anchor="middle">山口</text>
                <!-- 四国地方 -->
                <rect id="tokushima" class="prefecture" x="360" y="500" width="60" height="40" fill="#f47b7b" />
                <text x="390" y="525" class="pref-label" text-anchor="middle">徳島</text>

                <rect id="kagawa" class="prefecture" x="300" y="500" width="60" height="40" fill="#f47b7b" />
                <text x="330" y="525" class="pref-label" text-anchor="middle">香川</text>

                <rect id="ehime" class="prefecture" x="360" y="540" width="60" height="40" fill="#f47b7b" />
                <text x="390" y="565" class="pref-label" text-anchor="middle">愛媛</text>

                <rect id="kochi" class="prefecture" x="300" y="540" width="60" height="40" fill="#f47b7b" />
                <text x="330" y="565" class="pref-label" text-anchor="middle">高知</text>

                <!-- 九州地方 -->
                <rect id="fukuoka" class="prefecture" x="180" y="460" width="60" height="40" fill="#e05a5a" />
                <text x="210" y="485" class="pref-label" text-anchor="middle">福岡</text>

                <rect id="saga" class="prefecture" x="120" y="460" width="60" height="40" fill="#e05a5a" />
                <text x="150" y="485" class="pref-label" text-anchor="middle">佐賀</text>

                <rect id="nagasaki" class="prefecture" x="60" y="460" width="60" height="40" fill="#e05a5a" />
                <text x="90" y="485" class="pref-label" text-anchor="middle">長崎</text>

                <rect id="kumamoto" class="prefecture" x="180" y="500" width="60" height="40" fill="#e05a5a" />
                <text x="210" y="525" class="pref-label" text-anchor="middle">熊本</text>

                <rect id="oita" class="prefecture" x="120" y="500" width="60" height="40" fill="#e05a5a" />
                <text x="150" y="525" class="pref-label" text-anchor="middle">大分</text>

                <rect id="miyazaki" class="prefecture" x="180" y="540" width="60" height="40" fill="#e05a5a" />
                <text x="210" y="565" class="pref-label" text-anchor="middle">宮崎</text>

                <rect id="kagoshima" class="prefecture" x="120" y="540" width="60" height="40" fill="#e05a5a" />
                <text x="150" y="565" class="pref-label" text-anchor="middle">鹿児島</text>

                <!-- 沖縄 -->
                <rect id="okinawa" class="prefecture" x="60" y="580" width="60" height="40" fill="#e05a5a" />
                <text x="90" y="605" class="pref-label" text-anchor="middle">沖縄</text>

            </g>
        </svg>
        <div id="weather-list">
            <!-- ここに天気予報が表示されます -->
        </div>
        <button id="fetch-btn" style="display:none;">天気予報を取得</button>
    </div>
    <script>
        // 47都道府県のエリアコードと名前
        const prefCodeMap = {
            hokkaido: { code: '016000', name: '北海道' },
            aomori: { code: '020000', name: '青森県' },
            iwate: { code: '030000', name: '岩手県' },
            miyagi: { code: '040000', name: '宮城県' },
            akita: { code: '050000', name: '秋田県' },
            yamagata: { code: '060000', name: '山形県' },
            fukushima: { code: '070000', name: '福島県' },
            ibaraki: { code: '080000', name: '茨城県' },
            tochigi: { code: '090000', name: '栃木県' },
            gunma: { code: '100000', name: '群馬県' },
            saitama: { code: '110000', name: '埼玉県' },
            chiba: { code: '120000', name: '千葉県' },
            tokyo: { code: '130000', name: '東京都' },
            kanagawa: { code: '140000', name: '神奈川県' },
            niigata: { code: '150000', name: '新潟県' },
            toyama: { code: '160000', name: '富山県' },
            ishikawa: { code: '170000', name: '石川県' },
            fukui: { code: '180000', name: '福井県' },
            yamanashi: { code: '190000', name: '山梨県' },
            nagano: { code: '200000', name: '長野県' },
            gifu: { code: '210000', name: '岐阜県' },
            shizuoka: { code: '220000', name: '静岡県' },
            aichi: { code: '230000', name: '愛知県' },
            mie: { code: '240000', name: '三重県' },
            shiga: { code: '250000', name: '滋賀県' },
            kyoto: { code: '260000', name: '京都府' },
            osaka: { code: '270000', name: '大阪府' },
            hyogo: { code: '280000', name: '兵庫県' },
            nara: { code: '290000', name: '奈良県' },
            wakayama: { code: '300000', name: '和歌山県' },
            tottori: { code: '310000', name: '鳥取県' },
            shimane: { code: '320000', name: '島根県' },
            okayama: { code: '330000', name: '岡山県' },
            hiroshima: { code: '340000', name: '広島県' },
            yamaguchi: { code: '350000', name: '山口県' },
            tokushima: { code: '360000', name: '徳島県' },
            kagawa: { code: '370000', name: '香川県' },
            ehime: { code: '380000', name: '愛媛県' },
            kochi: { code: '390000', name: '高知県' },
            fukuoka: { code: '400000', name: '福岡県' },
            saga: { code: '410000', name: '佐賀県' },
            nagasaki: { code: '420000', name: '長崎県' },
            kumamoto: { code: '430000', name: '熊本県' },
            oita: { code: '440000', name: '大分県' },
            miyazaki: { code: '450000', name: '宮崎県' },
            kagoshima: { code: '460100', name: '鹿児島県' },
            okinawa: { code: '471000', name: '沖縄県' }
        };
        let selectedPref = null;
        document.querySelectorAll('.prefecture').forEach(el => {
            el.addEventListener('click', function () {
                document.querySelectorAll('.prefecture').forEach(p => p.classList.remove('selected'));
                this.classList.add('selected');
                selectedPref = this.id;
                document.getElementById('selected-pref').textContent = `${prefCodeMap[this.id].name}が選択されました`;
                document.getElementById('fetch-btn').style.display = '';
                document.getElementById('weather-list').innerHTML = '';
            });
        });
        document.getElementById('fetch-btn').addEventListener('click', async function () {
            if (!selectedPref) return;
            const code = prefCodeMap[selectedPref].code;
            const name = prefCodeMap[selectedPref].name;
            const response = await fetch(`https://www.jma.go.jp/bosai/forecast/data/forecast/${code}.json`);
            const data = await response.json();
            // データ構造に応じて修正
            const area = data[0].timeSeries[0].areas[0];
            const dates = data[0].timeSeries[0].timeDefines;
            const weathers = area.weathers;
            let html = '';
            for (let i = 0; i < dates.length; i++) {
                const date = new Date(dates[i]);
                const y = date.getFullYear();
                const m = date.getMonth() + 1;
                const d = date.getDate();
                html += `<div class="weather-item"><span class="date">${y}年${m}月${d}日</span> の天気は <span class="weather">${weathers[i]}</span> です。</div>`;
            }
            document.getElementById('weather-list').innerHTML = html;
        });
    </script>
</body>

</html>