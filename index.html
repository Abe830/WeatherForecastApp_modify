<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>大阪府 天気予報</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <h1>大阪府 天気予報</h1>
        <div id="weather-list">
            <!-- ここに天気予報が表示されます -->
        </div>
        <button onclick="fetchWeather()">天気予報を取得</button>
    </div>
    <script>
        async function fetchWeather() {
            const response = await fetch('https://www.jma.go.jp/bosai/forecast/data/forecast/270000.json');
            const data = await response.json();
            // データ構造に応じて修正
            const forecasts = data[0].timeSeries[0].areas[0];
            const dates = data[0].timeSeries[0].timeDefines;
            const weathers = forecasts.weathers;
            let html = '';
            for (let i = 0; i < dates.length; i++) {
                const date = new Date(dates[i]);
                const y = date.getFullYear();
                const m = date.getMonth() + 1;
                const d = date.getDate();
                html += `<div class="weather-item"><span class="date">${y}年${m}月${d}日</span> の天気は <span class="weather">${weathers[i]}</span> です。</div>`;
            }
            document.getElementById('weather-list').innerHTML = html;
        }
    </script>
</body>

</html>